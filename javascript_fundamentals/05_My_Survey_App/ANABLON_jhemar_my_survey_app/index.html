<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANABLON, Jhemar My Survey App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <style>
      
        canvas {
            max-width: 300px;
            max-height: 300px; 
        }
    </style>
</head>

<body>
    <div class="container text-center">
        <i class="fa-solid fa-circle-question fa-5x" style="color: yellow;"></i>
        <h1 class="display-1">What Is Your Preferred Activity When You're Stressed?</h1>
    </div>
    <div class="btn-group btn-lg form-control" id="surveyoption" role="group">
        <button type="button" data-stress-habit="eat" class="btn btn-primary">
            <i class="fa-solid fa-cookie-bite"></i> EAT ALL DAY
        </button>
        <button type="button" data-stress-habit="play" class="btn btn-secondary">
            <i class="fa-solid fa-gamepad"></i> PLAY ONLINE GAMES
        </button>
        <button type="button" data-stress-habit="ride" class="btn btn-success">
            <i class="fa-solid fa-person-biking"></i> RIDES
        </button>
        <button type="button" data-stress-habit="sleep" class="btn btn-danger">
            <i class="fa-solid fa-bed"></i> SLEEP
        </button>
        <button type="button" data-stress-habit="drink" class="btn btn-warning">
            <i class="fa-solid fa-martini-glass-citrus"></i> DRINK
        </button>
    </div>
    <button id="generateSurveyResult" type="button" class="btn btn-info form-control">
        <i class="fa-solid fa-magnifying-glass-chart"></i> Generate Survey Result
    </button>

    <div class="row mt-4">
        <div class="col">
            <canvas id="polarResult" style="margin: auto;"></canvas>
        </div>
        <div class="col">
            <canvas id="lineResult" style="margin: auto;"></canvas>
        </div>
        <div class="col">
            <canvas id="doughnutResult" style="margin: auto;"></canvas>
        </div>
    </div>

    <script>
        const surveyOptions = document.querySelectorAll('#surveyoption button');
        const polarResultCanvas = document.getElementById('polarResult');
        const lineResultCanvas = document.getElementById('lineResult');
        const doughnutResultCanvas = document.getElementById('doughnutResult');
        const generateButton = document.getElementById('generateSurveyResult');

        let surveyData = {
            eat: 0,
            play: 0,
            ride: 0,
            sleep: 0,
            drink: 0
        };

        surveyOptions.forEach(button => {
            button.addEventListener('click', () => {
                const habit = button.getAttribute('data-stress-habit');
                surveyData[habit]++;
                console.log(`${habit.charAt(0).toUpperCase() + habit.slice(1)} selected!`);
            });
        });

        generateButton.addEventListener('click', () => {
            const labels = Object.keys(surveyData).map(label => label.charAt(0).toUpperCase() + label.slice(1));
            const data = Object.values(surveyData);

       
            const polarChartData = {
                labels: labels,
                datasets: [{
                    label: 'Preferred Stress Habit',
                    data: data,
                    backgroundColor: [
                        'rgba(0, 123, 255, 0.6)',   
                        'rgba(108, 117, 125, 0.6)', 
                        'rgba(40, 167, 69, 0.6)',  
                        'rgba(220, 53, 69, 0.6)',   
                        'rgba(255, 193, 7, 0.6)'    
                    ]
                }]
            };

            const polarConfig = {
                type: 'polarArea',
                data: polarChartData,
                options: {
                    responsive: true,
                    scales: {
                        r: {
                            beginAtZero: true
                        }
                    }
                }
            };

            if (polarResultCanvas.chart) {
                polarResultCanvas.chart.destroy();
            }
            polarResultCanvas.chart = new Chart(polarResultCanvas, polarConfig);

           
            const lineChartData = {
                labels: labels,
                datasets: [{
                    label: 'Survey Data Over Time',
                    data: data,
                    fill: false,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    tension: 0.1
                }]
            };

            const lineConfig = {
                type: 'line',
                data: lineChartData,
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            };

            if (lineResultCanvas.chart) {
                lineResultCanvas.chart.destroy();
            }
            lineResultCanvas.chart = new Chart(lineResultCanvas, lineConfig);

            
            const doughnutChartData = {
                labels: labels,
                datasets: [{
                    label: 'Preferred Stress Habit',
                    data: data,
                    backgroundColor: [
                        'rgba(0, 123, 255, 0.6)',   
                        'rgba(108, 117, 125, 0.6)',
                        'rgba(40, 167, 69, 0.6)',   
                        'rgba(220, 53, 69, 0.6)',   
                        'rgba(255, 193, 7, 0.6)',  
                    ]
                }]
            };

            const doughnutConfig = {
                type: 'doughnut',
                data: doughnutChartData,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    let label = context.label || '';
                                    if (context.parsed > 0) {
                                        label += ': ' + context.parsed;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            };

            if (doughnutResultCanvas.chart) {
                doughnutResultCanvas.chart.destroy();
            }
            doughnutResultCanvas.chart = new Chart(doughnutResultCanvas, doughnutConfig);
        });
    </script>
</body>

</html>
